<Window x:Class="ShowKeys.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:showKeys="clr-namespace:ShowKeys"
        mc:Ignorable="d"
        Title="Keyboard Jedi" 
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        WindowStartupLocation="Manual">
    <Window.Resources>
        <showKeys:KeyEntryTemplateSelector x:Key="KeyEntryTemplateSelector">
            <showKeys:KeyEntryTemplateSelector.StandardTemplate>
                <DataTemplate DataType="local:KeyCombinationEntry">
                    <Border Background="#AA663333" 
                            CornerRadius="3" 
                            Margin="2,0" 
                            Padding="5,2">
                        <TextBlock Text="{Binding Text}" 
                                   Foreground="White" 
                                   FontFamily="Consolas" 
                                   FontSize="36"/>
                    </Border>
                </DataTemplate>
            </showKeys:KeyEntryTemplateSelector.StandardTemplate>
            <showKeys:KeyEntryTemplateSelector.SpaceTemplate>
                <DataTemplate DataType="local:TimePaddingEntry">
                    <Border Background="#00000000" 
                            CornerRadius="3" 
                            Margin="2,0" 
                            Padding="5,2">
                        <TextBlock Text=" " 
                                   Foreground="Black" 
                                   FontFamily="Consolas" 
                                   FontWeight="Bold"
                                   FontSize="36"/>
                    </Border>
                </DataTemplate>
            </showKeys:KeyEntryTemplateSelector.SpaceTemplate>
            <showKeys:KeyEntryTemplateSelector.ErrorTemplate>
                <DataTemplate DataType="local:ErrorEntry">
                    <Border Background="#AAFF0000" 
                            CornerRadius="3" 
                            Margin="2,0" 
                            Padding="5,2">
                        <TextBlock Text="❌" 
                                   Foreground="White" 
                                   FontFamily="Segoe UI Symbol" 
                                   FontWeight="Bold"
                                   FontSize="36"/>
                    </Border>
                </DataTemplate>
            </showKeys:KeyEntryTemplateSelector.ErrorTemplate>
        </showKeys:KeyEntryTemplateSelector>
    </Window.Resources>
    <Border Background="#80000000" CornerRadius="5" Margin="5">
        <ItemsControl x:Name="KeyHistoryList" Margin="10,5"
                      ItemTemplateSelector="{StaticResource KeyEntryTemplateSelector}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>
    </Border>
</Window>
